<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Lab 3: Let's Make a Guitar Hero Game!</title>
<style>
  body { font-family: Arial, sans-serif; background-color:#121212; color:#e0e0e0; margin:0; padding:0; font-size:1.05em; }
  header { background-color:#000; padding:40px 20px; text-align:center; }
  header h1 { color:#c29fff; margin:0; }
  header h3 { color:#ff99aa; margin:10px 0 0 0; font-weight:normal; }
  nav { background-color:#111; padding:14px 0; text-align:center; position:sticky; top:0; z-index:100; }
  nav a { margin:0 20px; text-decoration:none; color:#fff; font-weight:bold; font-size:1.1em; }
  nav a:hover { color:#c29fff; }
  .container { display:flex; flex-wrap:wrap; justify-content:space-between; width:90%; max-width:1300px; margin:25px auto; gap:20px; }
  .main-content { flex:3; min-width:300px; }
  .sidebar { flex:1; min-width:250px; background-color:#1e1e2e; padding:10px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.5); display:flex; flex-direction:column; align-items:center; }
  .sidebar img { width:100%; max-width:400px; border-radius:8px; margin-bottom:10px; }
  .section { background-color:#1e1e2e; padding:25px; margin-bottom:20px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.5); }
  .section h2 { color:#c29fff; margin-top:0; }
  .checkoff { color:red; font-weight:bold; }
  .inline-img { width:100%; border-radius:8px; margin:12px 0; display:block; max-width:200px; }
  pre { background:#0f0f16; color:#e8e8e8; padding:12px; border-radius:6px; overflow:auto; }
  code { font-family: "Courier New", Courier, monospace; white-space: pre-wrap; word-break: break-word; }
  footer { text-align:center; padding:20px; background-color:#111; color:#bbbbbb; margin-top:20px; font-size:0.9em; }
  @media(max-width:1000px){ .container{ flex-direction:column; } .sidebar{ order:-1; } }
  .sidebar-label { color:#c29fff; font-size:0.95em; font-weight:bold; margin:12px 0 8px; text-align:center; }
  html, body { max-width: 100%; overflow-x: hidden; box-sizing: border-box; }
  img, .inline-img, .sidebar img { max-width: 100%; width: 100%; height: auto; display: block; }
  pre { white-space: pre-wrap; word-break: break-word; overflow-wrap: anywhere; }
  @media (max-width: 600px) { .main-content, .sidebar { min-width: 0; } .container { padding-left: 12px; padding-right: 12px; width: calc(100% - 24px); } }
</style>
</head>
<body>

<header>
  <h1>Lab 3: Let's Make a Guitar Hero Game!</h1>
  <h3>üé∏ Rock Your Code and Strum Some Fun! üé∂</h3>
</header>

<nav>
  <a href="index.html">Home</a>
  <a href="labs.html">Labs</a>
  <a href="instructors.html">Instructors</a>
  <a href="about.html">About</a>
</nav>

<div class="container">

  <!-- Main Content -->
  <div class="main-content">

    <!-- Overview -->
    <div class="section">
      <h2>Overview</h2>
      <p>In the game Guitar Hero, the user interacts with a screen with colored markers. Whenever the colored markers reach the bottom line, the player must press the associated buttons in time with the music. This screen that the user witnesses is known as a GUI, graphical user interface.</p>
      <p>In this lab, you'll create a Guitar Hero game GUI and custom-built guitar while learning how to:</p>
      <ul>
        <li>‚úÖ Code up a GUI using Processing</li>
        <li>‚úÖ Learn how to solder electronics</li>
        <li>‚úÖ Package electrical components together in a clean way</li>
      </ul>
    </div>

    <!-- Safety & Tips -->
    <div class="section">
      <h2>ü¶∫ Safety & Important Tips</h2>
      <ul>
        <li><strong>Soldering Iron Temperature:</strong> Ensure that the soldering iron is never left unattended. It reaches temperatures of ~500 degrees Celsius so never make it touch anything it is not supposed to.</li>
        <li><strong>Lead Poisoning:</strong> Most solder contains lead. This is very toxic if ingested. Always wash your hands immediately after soldering and never touch your face.</li>
      </ul>
      <img src="guitar1.png" alt="Soldering Safety" class="inline-img">
    </div>

    <!-- Fabrication Quest -->
    <div class="section">
      <h2>üî® Fabrication Quest of the Day</h2>
      <p>Today, you will code a GUI for Guitar Hero:</p>
      <ul>
        <li>(A) A GUI in Processing using Java (x1)</li>
        <li>(B) Lasercut Guitar with clean electronics (x1)</li>
      </ul>
      <p>Your instructors will provide you with:</p>
      <ul>
        <li>(B) The Guitar base (x1)</li>
        <li>(C) Electrical components (buttons, wire, etc.) (x1)</li>
      </ul>
    </div>

    <!-- Software & Hardware -->
    <div class="section">
      <h2>üèóÔ∏è Software & Hardware</h2>
      <p><strong>Software:</strong> Processing, Arduino IDE (should have downloaded in a previous lab)</p>
      <p><strong>PPE:</strong> Safety glasses</p>
      <p><strong>Hardware:</strong> Pre-lasercut guitar, wire, wire cutter, buttons (x3), solder, zipties, electrical tape, Arduino Uno, multimeter, laptop</p>
      <p><strong>Machines:</strong> Soldering Iron</p>
    </div>

    <!-- Part 0 -->
    <div class="section">
      <h2>Part (0): Downloading Processing and its libraries</h2>
      <ol>
        <li>Download Processing (5 mins)</li>
        <li>Install ControlP5 Library for the GUI</li>
        <li>Open Processing</li>
        <li>Click Sketch > Import Library‚Ä¶ > Manage Libraries > ControlP5 > Install</li>
        <li>Click Sketch > Import Library‚Ä¶ > Manage Libraries > Serial</li>
      </ol>
      <img src="guitar2.png" alt="Processing Setup" class="inline-img">
    </div>

    <!-- Part 1 -->
    <div class="section">
      <h2>Part (1): Getting a Preliminary GUI (10 mins)</h2>
      <p>Processing uses a programming language called Java. Just like Arduino, it has two main functions: <strong>setup()</strong> and <strong>draw()</strong>. setup() runs once at the beginning. draw() runs over and over, 60 times a second, allowing animations.</p>
      <pre><code>import controlP5.*;

ControlP5 cp5;
PFont myFont;

void setup(){
    size(300, 400);
    myFont = createFont("Arial-Bold-32", 32);
}

void draw(){
    background(50, 70, 100);
    fill(255);
    textFont(myFont);
    text("GUITAR HERO", 50, 50);
}</code></pre>
      <img src="guitar3.png" alt="Preliminary GUI" class="inline-img">

      <p>Next, let's add a button:</p>
      <pre><code>import controlP5.*;

ControlP5 cp5;
PFont myFont;

void setup(){
    size(300, 400);
    myFont = createFont("Arial-Bold-32", 32);
    cp5 = new ControlP5(this);
    cp5.addButton("START")
       .setPosition(100, 120)
       .setSize(100, 50)
       .setFont(myFont)
       .setColorCaptionLabel(color(255))
       .setColorBackground(color(0, 150, 255))
       .setColorActive(color(0, 200, 255));
}

void draw(){
    background(50, 70, 100);
    fill(255);
    textFont(myFont);
    text("GUITAR HERO", 50, 50);
}</code></pre>
      <img src="guitar4.png" alt="GUI with button" class="inline-img">

      <p>Now, let's animate a circle:</p>
      <pre><code>import controlP5.*;

ControlP5 cp5;
PFont myFont;
float circleY = 0;

void setup(){
    size(300, 400);
    myFont = createFont("Arial-Bold-32", 32);
    cp5 = new ControlP5(this);
    cp5.addButton("START")
       .setPosition(100, 120)
       .setSize(100, 50)
       .setFont(myFont)
       .setColorCaptionLabel(color(255))
       .setColorBackground(color(0, 150, 255))
       .setColorActive(color(0, 200, 255));
}

void draw(){
    background(50, 70, 100);
    fill(255);
    textFont(myFont);
    text("GUITAR HERO", 50, 50);

    fill(255, 160, 180);
    ellipse(150, circleY, 50, 50);
    circleY += 2;
    if(circleY > height){ circleY = 0; }
}</code></pre>
      <img src="guitar5.png" alt="GUI animation" class="inline-img">
      <p><span class="checkoff">Checkoff 1:</span> Ask your instructor for a check-off on completing Part (1) and showing your animation.</p>
    </div>

    <!-- Part 2 -->
    <div class="section">
      <h2>Part (2): Adding a Button (15 mins)</h2>
      <p>We want our guitar to have buttons. Buttons can read as 3.3‚ÄØV or 0‚ÄØV.</p>
      <p>To understand how the button is wired internally, we need a multimeter. Use the continuity mode we learned about in a previous lab.</p>
      <p>When the multimeter beeps, it means the two legs of the button are connected.</p>
      <p>Normally, a button has two legs: unconnected when unpressed, connected when pressed.</p>
      <p>The buttons we are using have four legs.</p>
      <img src="guitar14.png" alt="GUI animation" class="inline-img">
      <p>To find the correct orientation of the button:</p>
      <ul>
        <li>Place the button on a breadboard and test with a multimeter.</li>
        <li>This is optional but useful if you want to check it safely.</li>
        <li>Or, if you usually solder, you can solder the button directly to wires and connect it to the Arduino.</li>
        <li>The important thing is to know which pins connect when pressed.</li>
      </ul>
      <p>Here is an example wiring:</p>
      <ul>
        <li>Button leg 1 ‚Üí Arduino pin 2</li>
        <li>Button leg 2 ‚Üí GND</li>
      </ul>
      <p>Repeat for the other buttons (pin 3 and pin 4).</p>

      <pre><code>int pushButtonA = 4;
int pushButtonB = 3;
int pushButtonC = 2;

void setup() {
  Serial.begin(9600);
  pinMode(pushButtonA, INPUT_PULLUP);
  pinMode(pushButtonB, INPUT_PULLUP);
  pinMode(pushButtonC, INPUT_PULLUP);
}

void loop() {
  int buttonStateA = digitalRead(pushButtonA);
  if (!buttonStateA) { Serial.println("A"); }

  int buttonStateB = digitalRead(pushButtonB);
  if (!buttonStateB) { Serial.println("B"); }

  int buttonStateC = digitalRead(pushButtonC);
  if (!buttonStateC) { Serial.println("C"); }

  delay(1);
}</code></pre>
      <p>If you connected the button to Pin 2, then pressing the button prints "A" in the Serial Monitor. Repeat for Pin 3 and Pin 4 for "B" and "C".</p>
      <p><span class="checkoff">Checkoff 2:</span> Show that your Serial Monitor prints A, B, C when you press the buttons.</p>
    </div>

    <!-- Part 3 -->
    <div class="section">
      <h2>Part (3): Adding Serial Communication in Processing (20 mins)</h2>
      <p>Close the Arduino Serial Monitor before running the Processing file, or you will get a "port busy" error.</p>
      <p>This code connects Processing to Arduino via Serial:</p>
      <img src="guitar8.png" alt="Serial Connection Diagram" class="inline-img">
      <pre><code>import processing.serial.*;

Serial myPort;  
String val = "";

void setup() {
  size(300, 400);
  String portName = "COM3";
  myPort = new Serial(this, portName, 9600);
  println("Connected to " + portName);
}

void draw() {
  background(50, 70, 100);
  fill(0);
  text("GUITAR HERO", 100, 30);

  if (myPort.available() > 0) {
    String incoming = myPort.readStringUntil('\n');
    if (incoming != null) { val = incoming.trim(); }
  }

  println(val);
}</code></pre>
      <p><span class="checkoff">Checkoff 3:</span> Show your instructor that you have working Serial communication with Arduino and Processing.</p>
    </div>

    <!-- Part 4 -->
    <div class="section">
      <h2>Part (4): Testing the Game with Keyboard and Breadboard (20 mins)</h2>
      <p>Download the game folder: <a href="https://github.com/fzaman500/mit-gtl-bahrain-2025-guitar-hero" target="_blank" style="color:#c29fff;">Guitar Hero Link</a></p>
      <p>Open the Processing file <strong>rhythmgame.pde</strong> under Processing/rhythmgame folder.</p>
      <p>Install the Sound library via Processing Library Manager (author: The Processing Foundation).</p>
      <p>Make sure the Arduino Serial Monitor is closed before running Processing.</p>
      <p>Edit line 68 to match your trackdata location:</p>
      <pre><code>trackData = new TrackData("/Users/STEAM/mit-gtl-bahrain-2025-guitar-hero/Processing/rhythmgame/data/trackinfo.txt");</code></pre>
      <p>Test the game using arrow keys first, then test the Serial-connected breadboard buttons.</p>
      <p><span class="checkoff">Checkoff 4:</span> Show your instructor that your breadboard controller works and explain the Serial code.</p>
    </div>

    <!-- Part 5 -->
    <div class="section">
      <h2>Part (5): Learning Soldering (15 mins)</h2>
      <p>Soldering connects two electrical components using melted metal (solder). Heat the solder with the iron to make a strong electrical connection.</p>
      <p>Set the iron to 450¬∞C. Ask instructors for help if needed.</p>
      <p>YouTube soldering tutorial:
       <iframe src="https://www.youtube.com/embed/Qps9woUGkvI" 
        title="YouTube soldering tutorial" 
        width="100%" 
        height="400" 
        allowfullscreen>
</iframe>

      <p>Quick steps:</p>
      <ol>
        <li>Cut and strip wire to expose metal. <img src="guitar9.png" alt="Wire preparation" class="inline-img"></li>
        <li>Bring solder, iron, wire, and button leg together. Let the solder melt and solidify.</li>
        <li>Insulate wires using electrical tape or heatshrink. Heat with heatgun. <img src="guitar10.png" alt="Heatshrink example" class="inline-img"></li>
      </ol>
      <p><span class="checkoff">Checkoff 5:</span> Your guitar should be soldered and heatshrinked fully now!</p>
    </div>

    <!-- Part 6 -->
    <div class="section">
      <h2>Part (6): Test the Guitar Hero Game Finally (10 mins)</h2>
      <p>Button closest to Arduino ‚Üí Pin 2, middle ‚Üí Pin 3, farthest ‚Üí Pin 4. Big black wire ‚Üí GND.</p>
      <p>Use the same Arduino code that printed A, B, C earlier. Make sure the Processing port is correct.</p>
      <p>Test your guitar with the game and see the score increase!</p>
      <p><span class="checkoff">Checkoff 6:</span> Show that your guitar works with the Guitar Hero game.</p>
    </div>

  </div>
 <div class="sidebar">
    <img src="guitar.png" alt="Guitar Image">
    <img src="guitar7.png" alt="Guitar 7 Image">
  </div>

</div>

<footer>
  &copy; 2025 Guitar Hero Lab
</footer>

</body>
</html>

